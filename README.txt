Charles Nguyen
Connor Beckett-Lemus

Lab Assignment 1 – Peer to Peer

The objective of this assignment was to develop a peer to peer file transfer program in a local area network. We accomplished this by utilizing two threads in our programs entry point – one to act as a server, and the other to act as a client. We found all the other IPs on our network by getting the ARP table, and the client thread attempted to communicate with all IPs on that list to synchronize files with. If it successfully connected to one of those IPs, it would call the client file transfer method, while the other system would call the server file transfer method. The low-level file transfer portion was done by sending byte packets to the other system.

Although we ran into a few problems, we were able to achieve file transfer between the networked computers. Our progression through the project had a few bumps along the way including network discovery and file transfer. One of the first problems that we ran into was discovering each other’s computers on the network. We had to figure out how to run the Window’s Command Prompt through Java and run the “arp -a” command. After researching how to do this, we were able to output the ARP table and parse that output into a format that is recognized by our system. Another problem that arose after being able to discover computers on the network was getting the program to use the sockets in the correct order for file transferring, since it’s a multi-step process to determine what files need to be sent out. We found out that we needed to close the socket at every step and reopen it for communication, rather than using the same socket every time. The last problem that we faced was trying to sync files based on their last modified date. We added a 20 second-long tolerance between the two files’ last modified date to account for latency. We also had an embarrassing issue with this where an if statement had the reverse logic of what it should for synching files based on last modified date. Overall, the project was a great way for us to work independently and research the different components that were needed for a peer to peer network to function.
